### nmap常用命令

```
1、用主机名和IP地址扫描系统
[root@server ~]# nmap www.domain.com     //获取所有开放端口，服务和MAC地址

2、主机发现
[root@server ~]# nmap –sn www.domain.com           //只进行主机发现，不扫描端口

3、扫描多台主机
[root@server ~]# nmap 192.168.1.1 192.168.1.2 192.168.1.3  //扫描多台主机

4、扫描整个子网
[root@server ~]# nmap 192.168.1.*           //扫描整个子网

5、使用IP地址最后一个字节扫描多台服务器
[root@server ~]# nmap 192.168.1.1,2,3        //利用最后一个字节同时扫描1.1 1.2 1.3

6、从一个文件中扫描主机列表
[root@server ~]# nmap –iL file.txt             //从一个文件读取主机列表

7、扫描一个IP地址范围
[root@server ~]# nmap 192.168.1.1-10        //扫描一个ip段

8、排除一些远程主机后再扫描
[root@server ~]# nmap 192.168.1.* --exclude 192.168.1.1  //排除192.168.1.1后，再扫描其他端口

11、扫描主机侦测防火墙
[root@server ~]# nmap –sA [www.domain.com](http://www.domain.com)   //探测主机是否使用了包过滤或防火墙 状态有filtered或者UNfiltered 

12、扫描主机检测是否有防火墙保护
[root@server ~]# nmap –PN [www.domain.com](http://www.domain.com)   //检测是否受到数据包过滤软件或防火墙保护

14、执行快速扫描
[root@server ~]# nmap –F [www.domain.com](http://www.domain.com)    //仅扫描在nmap-services文件中的端口

15、查看nmap的版本
[root@server ~]# nmap –V [www.domain.com](http://www.domain.com)    //查看nmap版本

16、顺序扫描端口
[root@server ~]# nmap –r [www.domain.com](http://www.domain.com)    //结果顺序输出

17、打印主机接口和路由
[root@server ~]# nmap –iflist                 //查看检测主机接口和路由信息

18、扫描特定的端口
[root@server ~]# nmap –p 80 [www.domain.com](http://www.domain.com)   //扫描特定接口

19、扫描TCP端口
[root@server ~]# nmap –p T:8888,80 [www.domain.com](http://www.domain.com)  //指定具体端口类型和端口号

20、扫描UDP端口
[root@server ~]# nmap –sU 53 [www.domain.com](http://www.domain.com)  //指定具体端口类型和端口号

21、扫描多个端口
[root@server ~]# nmap –p 80,443 [www.domain.com](http://www.domain.com)   //扫描多个端口

22、扫描指定范围内的端口
[root@server ~]# nmap –p 1-65535 [www.domain.com](http://www.domain.com)  //扫描指定范围内端口

24、使用TCP ACK（PA）和TCP Syn(PS)s扫描远程主机
[root@server ~]# nmap –PS [www.domain.com](http://www.domain.com)    //包过滤防火墙会阻断标准的ICMP ping请求，在这种情况下可使用此方法

25、使用TCP ACK扫描远程主机上的特定的端口
[root@server ~]# nmap –PA –p 22,80 [www.domain.com](http://www.domain.com)   //使用TCP ACK扫描特定的端口

26、使用TCP Syn扫描远程主机上的特定端口
[root@server ~]# nmap –PS –p 22,80 [www.domain.com](http://www.domain.com)   //使用TCP Syn扫描特定的端口

27、执行一次隐蔽的扫描
[root@server ~]# nmap –sS [www.domain.com](http://www.domain.com)           //TCP syn扫描，半开放或隐身扫描

28、使用TCP Syn扫描最常用的端口
[root@server ~]# nmap –sT www.domain.com           //TCP Syn扫描常见端口

29、执行TCP空扫描以骗过防火墙
[root@server ~]# nmap –sN www.domain.com           //TCP空扫描

30、精确地确认端口上运行的服务
nmap -sV -script unusual-port 192.168.1.1              //用于修改端口的情况

31、绕过防火墙、IDS
nmap -f 192.168.1.1   //有nmap -f -v 192.168.1.1 这种用法

32、nmap –v含义
[root@server ~]# nmap –v www.domain.com   //显示扫描过程详细的信息

33、nmap -T含义
nmap T0 非常慢的扫描，用于IDS(入侵检测系统)逃避
nmap T1 缓慢的扫描，介于0和2之间的速度，同样可以躲开某些IDS
nmap T2 降低扫描速度，通常不用
nmap T3 默认扫描速度
nmap T4 可能会淹没目标，如果有防火墙很可能会触发
nmap T5 极速扫描，牺牲了准确度来换取速度

34、nmap –A含义
[root@server ~]# nmap –A www.domain.com  //操作系统和版本检测，脚本扫描和路由追踪,相当于nmap –sV + nmap –O + nmap –sC + --tranceroute

35、nmap –O含义
[root@server ~]# nmap –O www.domain.com  //探测操作系统信息

36、nmap –e含义
[root@server ~]# nmap –e eth0 www.domain.com  //告诉nmap使用哪个接口收发数据包

37、nmap –sV含义
[root@server ~]# nmap –sV www.domain.com  //检测服务端软件的版本信息

38、nmap –Pn含义
[root@server ~]# nmap –Pn www.domain.com  //对应主机禁ping

39、nmap –sP含义
[root@server ~]# nmap –sP [192.168.1.*](http://www.domain.com)         //发送ICMP报文，根据反馈信息判断主机状态  
```

 